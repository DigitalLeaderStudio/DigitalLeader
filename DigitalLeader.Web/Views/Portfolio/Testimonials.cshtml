@model IEnumerable<DigitalLeader.ViewModels.TestimonialViewModel>

@{
	ViewBag.Title = "Digital Leader - Testimonials";
	Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2 class="text-center">Testimonials</h2>
<hr />
<br />
<div class="testimonials">
    @{
        int Counter = 0;
    }
    <div class="container">
        @foreach (var item in Model)
        {
            if (Counter % 3 == 0)
            {
                <text>  <div class="row">
                </text>
    }
    <div class="testimonial-item col-md-3 col-md-offset-1">
                @{
                    var userName = string.Format("{0} {1} ({2})", item.Client.FirstName, item.Client.LastName, item.Client.Company);
                    var srcAction = item.Client.ImageId.HasValue ?
                    Url.Action("Show", "File", new { area = "", id = item.Client.ImageId }) :
                    "/Content/img/default-user.png";
                }
                <img src="@srcAction"
                     class="img-circle img-responsive"
                     alt="@userName" />
            <div class="col-md-7">
                <p>@item.Text</p>
                <hr />
                <p class="testimonial-info">
                    @userName
                    <span class="pull-right"><i class="fa fa-calendar "></i>@item.CreatedDate.ToShortDateString()</span>
                </p>
            </div>
    </div>
                    if ((Counter + 1) % 3 == 0 && Counter != 0)
                    {
                        @: </div>
            }
                        Counter++;
                    }
    </div>